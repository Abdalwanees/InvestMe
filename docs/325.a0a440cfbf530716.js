"use strict";(self.webpackChunkInvestMe=self.webpackChunkInvestMe||[]).push([[325],{325:(I,g,e)=>{e.r(g),e.d(g,{LogInComponent:()=>C});var c=e(6814),t=e(6223),d=e(2945),u=e(2032),f=e(2296),p=e(9862),m=e(2108),o=e(9291),M=e(2058),P=e(2425);function v(r,_){1&r&&(o.TgZ(0,"div",9),o._uU(1," Please enter a valid email address. "),o.qZA())}function h(r,_){1&r&&(o.TgZ(0,"div",9),o._uU(1," Password must be at least 6 characters long. "),o.qZA())}function O(r,_){if(1&r&&(o.TgZ(0,"p",9),o._uU(1),o.qZA()),2&r){const a=o.oxw();o.xp6(1),o.Oqu(a.errorMessage)}}let C=(()=>{class r{constructor(a,s,n,i){this.fb=a,this.authService=s,this.router=n,this._ToastrService=i,this.errorMessage="",this.loginForm=this.fb.group({email:["",[t.kI.required,t.kI.email]],password:["",[t.kI.required,t.kI.minLength(6)]]})}onLogin(){if(this.loginForm.invalid)return void(this.errorMessage="Please enter valid email and password");const{email:a,password:s}=this.loginForm.value;this.authService.login(a,s).subscribe({next:n=>{this._ToastrService.success(n.message);const{userType:i}=n,{userId:l}=n,{userName:b}=n;console.log(n),localStorage.setItem("userType",i),localStorage.setItem("id",l),localStorage.setItem("Name",b),console.log(localStorage.getItem("Name")),this.navigateToDashboard(i)},error:n=>{console.error("Login failed",n),this.errorMessage="Invalid email or password. Please try again.",this._ToastrService.error("Invalid email or password. Please try again.")}})}navigateToDashboard(a){this.router.navigate("Innovator"===a?["/blank/innovator"]:"Investor"===a?["/blank/investor"]:["/default-dashboard"])}static#o=this.\u0275fac=function(s){return new(s||r)(o.Y36(t.qu),o.Y36(m.e),o.Y36(M.F0),o.Y36(P._W))};static#n=this.\u0275cmp=o.Xpm({type:r,selectors:[["app-log-in"]],standalone:!0,features:[o._Bn([m.e]),o.jDz],decls:17,vars:5,consts:[[1,"login-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email","id","email","required","",1,"form-control"],["class","error-message",4,"ngIf"],["for","password"],["type","password","formControlName","password","id","password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"error-message"]],template:function(s,n){if(1&s&&(o.TgZ(0,"div",0)(1,"h2"),o._uU(2,"Login"),o.qZA(),o.TgZ(3,"form",1),o.NdJ("ngSubmit",function(){return n.onLogin()}),o.TgZ(4,"div",2)(5,"label",3),o._uU(6,"Email:"),o.qZA(),o._UZ(7,"input",4),o.YNc(8,v,2,0,"div",5),o.qZA(),o.TgZ(9,"div",2)(10,"label",6),o._uU(11,"Password:"),o.qZA(),o._UZ(12,"input",7),o.YNc(13,h,2,0,"div",5),o.qZA(),o.TgZ(14,"button",8),o._uU(15,"Login"),o.qZA(),o.YNc(16,O,2,1,"p",5),o.qZA()()),2&s){let i,l;o.xp6(3),o.Q6J("formGroup",n.loginForm),o.xp6(5),o.Q6J("ngIf",(null==(i=n.loginForm.get("email"))?null:i.invalid)&&(null==(i=n.loginForm.get("email"))?null:i.touched)),o.xp6(5),o.Q6J("ngIf",(null==(l=n.loginForm.get("password"))?null:l.invalid)&&(null==(l=n.loginForm.get("password"))?null:l.touched)),o.xp6(1),o.Q6J("disabled",!n.loginForm.valid),o.xp6(2),o.Q6J("ngIf",n.errorMessage)}},dependencies:[c.ez,c.O5,t.u5,t._Y,t.Fj,t.JJ,t.JL,t.Q7,t.UX,t.sg,t.u,d.lN,u.c,f.ot,p.JF],styles:['.login-container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:20px;box-shadow:0 4px 8px #0000001a;opacity:0;transform:translateY(-20px);animation:_ngcontent-%COMP%_fadeInUp .6s forwards;max-width:400px;margin:50px auto}.login-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem;opacity:0;transform:translate(-20px);animation:_ngcontent-%COMP%_slideIn .5s forwards;animation-delay:calc(.1s * var(--index))}.login-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem;display:block}.login-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:4px;padding:.75rem 1.25rem;font-size:1rem;transition:border-color .3s ease,box-shadow .3s ease}.login-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40}.login-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{opacity:.7}.login-container[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{height:100px;resize:vertical}.login-container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;font-size:1.125rem;font-weight:600;transition:background-color .3s ease,border-color .3s ease;position:relative;color:#fff}.login-container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#004085}.login-container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;width:200%;height:200%;background:rgba(255,255,255,.2);border-radius:50%;transform:translate(-50%,-50%);transition:transform .3s ease;opacity:0;z-index:0}.login-container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:before{transform:translate(-50%,-50%) scale(0);opacity:1}.login-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;margin-top:1rem;text-align:center;font-weight:500}@keyframes _ngcontent-%COMP%_fadeInUp{to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideIn{to{opacity:1;transform:translate(0)}}']})}return r})()}}]);